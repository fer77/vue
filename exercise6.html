<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <style media="screen">
      .plan-name {

      }
      .plan-price {

      }
    </style>
  </head>
  <body>

<!-- Anything outside this <div> vue won't see. -->
<div id="app">

  <pre>
    {{$data | json}}
  </pre>

<div v-for="plan in plans">

 <!-- : vue's "shorthand" for binding an attribute in an object.  "plan" is bound to the plan component in the view model, and "active" is passed to the plan component and bound to "active" property in the data. -->
 <!-- without the .sync modifier "active" would be set equal to whatever the state of "active" is set to, keeping "plan's" "active" property unchanged. -->
  <plan :plan="plan" :active.sync="active" inline-template>

    <div>

      <span class="plan-name">{{plan.name}}</span>
      <span class="plan-price">{{plan.price}}/month</span>

      <button @click="setActivePlan" v-show="plan.name !== active.name">
        {{isUpgrade ? "Upgrade" : "Downgrade"}}
      </button>
      <span v-else>Selected!!</span>

    </div>


  </plan>

</div>

</div>



<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.25/vue.min.js"></script>

<!-- New instance of #app: -->
<script>

<!-- Our view model, that binds to the view and binds to the model. -->
<!-- Build a plan componenet by "nesting" it in our view component -->
new Vue({
  el: '#app',
  data: {
    plans: [
    {name: "Enterprise", price: 100},
    {name: "Pro", price: 50},
    {name: "Personal", price: 10},
    {name: "Free", price: 0}
    ],
    active: {}
  },
  components: {
    plan: {
      props: ["plan", "active"],
      computed: {
        isUpgrade: function() {
          return this.plan.price > this.active.price
        }
      },
      methods: {
        setActivePlan: function() {
          this.active = this.plan;
        }
      }
    }
  }
});
</script>

<!-- "plan" can also be declared globally, like this inside the <script>
  Vue.component("plan", {
    props: ["plan", "active"],

    computed: {
      isUpgrade: function() {
        return this.plan.price > this.active.price
      }
    },

    methods: {
      setActivePlan: function() {
        this.active = this.plan;
      }
    }
  }); -->


  </body>
</html>
